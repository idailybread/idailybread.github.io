<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="http://www.gov.cn/" title="乐信圣文" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="本章来介绍一下Android开发中常用的几种资源。 第一节 Drawable　　在Android中，Drawable类用来表示一个图像。　　通常我们会把Drawable对象设置到View的background属性上进行显示。 　　目前Drawable有很多子类，这些子类分别用在不同的应用场景，接下来会介绍一些常用的子类。 BitmapDrawable　　我们开发时，项目里所能使用的图片资源仅支">
<meta property="og:type" content="article">
<meta property="og:title" content="UI篇　第四章 应用程序资源">
<meta property="og:url" content="http://yoursite.com/android-B04/index.html">
<meta property="og:site_name" content="乐信圣文">
<meta property="og:description" content="本章来介绍一下Android开发中常用的几种资源。 第一节 Drawable　　在Android中，Drawable类用来表示一个图像。　　通常我们会把Drawable对象设置到View的background属性上进行显示。 　　目前Drawable有很多子类，这些子类分别用在不同的应用场景，接下来会介绍一些常用的子类。 BitmapDrawable　　我们开发时，项目里所能使用的图片资源仅支">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/img/android/android_4_7.png">
<meta property="og:image" content="http://yoursite.com/img/android/android_4_8.png">
<meta property="og:image" content="http://yoursite.com/img/android/android_4_9.png">
<meta property="og:image" content="http://yoursite.com/img/android/android_4_10.png">
<meta property="og:image" content="http://yoursite.com/img/android/android_4_11.png">
<meta property="og:updated_time" content="2018-09-09T10:47:48.461Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UI篇　第四章 应用程序资源">
<meta name="twitter:description" content="本章来介绍一下Android开发中常用的几种资源。 第一节 Drawable　　在Android中，Drawable类用来表示一个图像。　　通常我们会把Drawable对象设置到View的background属性上进行显示。 　　目前Drawable有很多子类，这些子类分别用在不同的应用场景，接下来会介绍一些常用的子类。 BitmapDrawable　　我们开发时，项目里所能使用的图片资源仅支">
<meta name="twitter:image" content="http://yoursite.com/img/android/android_4_7.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/android-B04/"/>

  <title> UI篇　第四章 应用程序资源 | 乐信圣文 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?53b4b0b5aeb5df5e4fb6263a58d8e1a9";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">乐信圣文</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-feedback">
          <a href="/feedback" rel="section">
            
            留言
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                UI篇　第四章 应用程序资源
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-14T14:09:02+08:00" content="2015-04-14">
              2015-04-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android开发-倔强青铜/" itemprop="url" rel="index">
                    <span itemprop="name">Android开发 - 倔强青铜</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/android-B04/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="android-B04/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/android-B04/" class="leancloud_visitors" data-flag-title="UI篇　第四章 应用程序资源">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>　　本章来介绍一下Android开发中常用的几种资源。</p>
<h1 id="第一节-Drawable"><a href="#第一节-Drawable" class="headerlink" title="第一节 Drawable"></a>第一节 Drawable</h1><p>　　在Android中，<code>Drawable</code>类用来表示一个图像。<br>　　通常我们会把<code>Drawable</code>对象设置到View的<code>background</code>属性上进行显示。</p>
<p>　　目前<code>Drawable</code>有很多子类，这些子类分别用在不同的应用场景，接下来会介绍一些常用的子类。</p>
<h2 id="BitmapDrawable"><a href="#BitmapDrawable" class="headerlink" title="BitmapDrawable"></a>BitmapDrawable</h2><p>　　我们开发时，项目里所能使用的图片资源仅支持三种格式的位图：<code>png</code>、<code>jpg</code>、<code>gif</code>，而<code>BitmapDrawable</code>就是用来表示位图文件的。</p>
<p>　　创建<code>BitmapDrawable</code>有两种方式：通过位图文件、通过<code>XML</code>文件。</p>
<p><br><strong>位图文件</strong><br>　　直接将位图文件放到<code>res/drawable</code>目录下即可，图片的名称就是位图资源的ID，在程序中可以通过资源ID引用图片。</p>
<p><br>　　范例1：当一个图片保存在<code>res/drawable/myimage.png</code> ,下面就是xml来使用此图到一个View上：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/myimage"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  在程序运行时，系统会先使用R.drawable.myimage来创建出一个Bitmap对象。
-  然后再使用这个Bitmap对象来创建一个BitmapDrawable对象，BitmapDrawable为Bitmap提供了若干新的功能。
</code></pre><p><br>　　<code>Drawable</code>顾名思义就是可画的、可编辑的，因而<code>Bitmap</code>对象可以通过<code>BitmapDrawable</code>类进行编辑。</p>
<p><br>　　范例2：获取图像宽高。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AndroidTestActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ImageView img;</span><br><span class="line">    <span class="keyword">private</span> BitmapDrawable drawable;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">this</span>.img = (ImageView) <span class="keyword">this</span>.findViewById(R.id.icon);</span><br><span class="line">        <span class="keyword">this</span>.drawable = (BitmapDrawable) <span class="keyword">this</span>.img.getDrawable();</span><br><span class="line">        <span class="comment">// 设置当前Drawable对象的透明度，取值范围：0 ~ 255 ，255为完全不透明。</span></span><br><span class="line">        <span class="keyword">this</span>.drawable.setAlpha(<span class="number">35</span>); </span><br><span class="line">        <span class="comment">// 获取位图文件的尺寸。</span></span><br><span class="line">        System.out.println(<span class="string">"width="</span>+<span class="keyword">this</span>.drawable.getBitmap().getWidth());</span><br><span class="line">        System.out.println(<span class="string">"height="</span>+<span class="keyword">this</span>.drawable.getBitmap().getHeight());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  当想获取位图文件的宽高时，可以先调用drawable.getBitmap()方法获取Bitmap对象。
</code></pre><p><br><strong>XML文件</strong><br>　　我们也可以使用XML文件来定义一个<code>BitmapDrawable</code>，使用此种方式定义可以为图像设定抖动、是否启动图片抗锯齿等附加属性。</p>
<p><br>　　范例1：在<code>res/drawable</code>目录下建立<code>bitmap.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bitmap</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/a"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  在xml文件中使用&lt;bitmap&gt;标签来描述一个BitmapDrawable，xml文件名称就是图片的资源ID。
-  其中&lt;bitmap&gt;标签必须包含src属性，该属性用来指出一个位图文件。
-  引用xml文件和引用普通位图文件的方式是完全一样的。
</code></pre><p><br>　　语法：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bitmap</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@[package:]drawable/drawable_resource"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:antialias</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">    <span class="attr">android:dither</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">    <span class="attr">android:filter</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">[</span>"<span class="attr">top</span>" | "<span class="attr">bottom</span>" | "<span class="attr">left</span>" | "<span class="attr">right</span>" | "<span class="attr">center_vertical</span>" |</span></span><br><span class="line"><span class="tag">                      "<span class="attr">fill_vertical</span>" | "<span class="attr">center_horizontal</span>" | "<span class="attr">fill_horizontal</span>" |</span></span><br><span class="line"><span class="tag">                      "<span class="attr">center</span>" | "<span class="attr">fill</span>" | "<span class="attr">clip_vertical</span>" | "<span class="attr">clip_horizontal</span>"]</span></span><br><span class="line"><span class="tag">    <span class="attr">android:tileMode</span>=<span class="string">[</span>"<span class="attr">disabled</span>" | "<span class="attr">clamp</span>" | "<span class="attr">repeat</span>" | "<span class="attr">mirror</span>"] /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>属性解释
-  antialias：是否允许抗锯齿。开启后会让图片的边线变得平滑。
-  dither：如果位图与屏幕的像素配置不同时是否允许抖动。比如位图的像素配置是ARGB_8888，但手机的屏幕配置是RGB555，这时候开启抖动选项可以让位图显示不会过于失真。
-  filter：是否允许对位图进行滤波。当对位图进行缩放或者压缩时，开启过滤效果可以获得较好的显示效果。
-  gravity：位图的gravity。当位图小于其容器的尺寸时，使用gravity属性指明在容器的何处绘制该位图。
-  tileMode：平铺模式。repeat是简单的水平和垂直平铺，mirror是镜面投影效果，clamp不好描述，请自行测试。
</code></pre><h2 id="NinePatchDrawable"><a href="#NinePatchDrawable" class="headerlink" title="NinePatchDrawable"></a>NinePatchDrawable</h2><p>　　<code>NinePatchDrawable</code>是一个可以伸缩的位图图像，它可以将自己调整到指定的尺寸，并保证不失真。<br>　　另外，<code>NinePatchDrawable</code>必须由一个<code>png</code>图片来创建，<code>NinePatchDrawable</code>与普通<code>png</code>图像不同的是：</p>
<pre><code>-  它的四条边上包括额外的1个像素的边界。
-  它的后缀名为“.9.png”。
</code></pre><p>　　你可以使用<code>sdk\tools\draw9patch.bat</code>工具来将普通的<code>png</code>图片修改为<code>*.9.png</code>的图片，该工具非常直观的展示了图片在上下或左右拉伸时的效果以及作为背景时其内容显示的位置。<br>　　虽然<code>.9.png</code>图片是在<code>.png</code>基础上制作出来的，但它在项目中的引用方式和<code>png</code>图片完全一样。</p>
<p><br>　　<code>NinePatchDrawable</code>也可以在<code>XML</code>文件中定义，使用<code>&lt;nine-patch&gt;</code>标签即可，它支持的属性与<code>BitmapDrawable</code>一致。</p>
<h2 id="LayerDrawable"><a href="#LayerDrawable" class="headerlink" title="LayerDrawable"></a>LayerDrawable</h2><p>　　<code>LayerDrawable</code>表示一种层次化的图像，它可以将多张图片叠加成一张图片，类似于帧布局的效果：</p>
<center><br><img src="/img/android/android_4_7.png" alt=""><br></center>

<p><br>　　语法：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layer-list</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@[package:]drawable/drawable_resource"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@[+][package:]id/resource_name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:top</span>=<span class="string">"dimension"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:right</span>=<span class="string">"dimension"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottom</span>=<span class="string">"dimension"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:left</span>=<span class="string">"dimension"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><br>　　范例1：在<code>res/drawable</code>目录下建立<code>icon.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/b"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  在layer-list下的每一个&lt;item&gt;都表示一个图像，drawable属性表示图像资源。
-  当layer-list下有多个&lt;item&gt;时，先出现的&lt;item&gt;元素会被放在下面。如：在本范例中a图片会放在b的图片的上面。
</code></pre><p><br>　　范例2：其他属性。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/icon"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:top</span>=<span class="string">"140dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:right</span>=<span class="string">"150dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:left</span>=<span class="string">"150dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottom</span>=<span class="string">"20dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　效果图：</p>
<center><br><img src="/img/android/android_4_8.png" alt=""><br></center>

<p>　　<code>&lt;item&gt;</code>标签：</p>
<pre><code>-  top、right、left、bottom属性，
-  指出图片的最小padding，即图片距离View某一边实际的padding必须大于等于指定的距离。
-  若指定的padding超过了View所占据的大小，则将缩小图片，以保证属性的值生效。
</code></pre><p><br>　　范例3：引用此图片。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"300dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"300dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/layout_list"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/ico"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  若此时调用ImageView的getDrawable方法，返回值的类型为： LayerDrawable 。
</code></pre><p><br>　　层列表中所定义的图片是可以动态的改变的，与位图资源一样，若想对图片进行编辑，则需要获取图片资源的Drawable对象。</p>
<p><br>　　范例4：点击事件。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/b"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/a"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  本范例中为&lt;item&gt;标签设置一个ID 。
</code></pre><p>　　动态更新图片：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AndroidTestActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ImageView img;</span><br><span class="line">    <span class="keyword">private</span> Resources rs;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">this</span>.img = (ImageView) <span class="keyword">this</span>.findViewById(R.id.img);</span><br><span class="line">        <span class="keyword">this</span>.rs = <span class="keyword">this</span>.getResources();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        <span class="comment">// 通过Resources类获取一个新的LayerDrawable对象。</span></span><br><span class="line">        LayerDrawable drawable=(LayerDrawable)rs.getDrawable(R.drawable.layer);</span><br><span class="line">        <span class="comment">// 修改新对象的层。</span></span><br><span class="line">        drawable.setDrawableByLayerId(R.id.content,rs.getDrawable(R.drawable.icon));</span><br><span class="line">        <span class="comment">// 将新对象设置给ImageView。</span></span><br><span class="line">        <span class="keyword">this</span>.img.setImageDrawable(drawable);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  层列表类型的图片资源在程序运行的时候，其内的多张图片会被转成一幅图片。
-  因此在动态更新图片时，需要重新创建一个新的LayerDrawable对象。
</code></pre><p><br>　　范例5：实现如下效果。</p>
<center><br><img src="/img/android/android_4_9.png" alt=""><br></center>

<p>　　代码为：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bitmap</span> <span class="attr">android:src</span>=<span class="string">"@drawable/android_red"</span> <span class="attr">android:gravity</span>=<span class="string">"center"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:top</span>=<span class="string">"10dp"</span> <span class="attr">android:left</span>=<span class="string">"10dp"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bitmap</span> <span class="attr">android:src</span>=<span class="string">"@drawable/android_green"</span> <span class="attr">android:gravity</span>=<span class="string">"center"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:top</span>=<span class="string">"20dp"</span> <span class="attr">android:left</span>=<span class="string">"20dp"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bitmap</span> <span class="attr">android:src</span>=<span class="string">"@drawable/android_blue"</span> <span class="attr">android:gravity</span>=<span class="string">"center"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  &lt;item&gt;内部可以嵌套其他类型的Drawable。
</code></pre><h2 id="StateListDrawable"><a href="#StateListDrawable" class="headerlink" title="StateListDrawable"></a>StateListDrawable</h2><p>　　<code>StateListDrawable</code>类似于单选按钮，它里面可以包含多张图片，但是同一时间只显示一张。</p>
<p>　　<code>StateListDrawable</code>可以根据View的当前状态，来决定要显示哪一张图片。</p>
<p><br>　　语法：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:constantSize</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">    <span class="attr">android:dither</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">    <span class="attr">android:variablePadding</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"] &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@[package:]drawable/drawable_resource"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_pressed</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_focused</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_hovered</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_selected</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_checkable</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_checked</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_enabled</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_activated</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_window_focused</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"] /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  constantSize属性：设置StateListDrawable的固有大小是否不随着其状态的改变而改变，因为状态的改变会导致StateListDrawable切换到具体的Drawable，而不同的Drawable具有不同的固有大小，true表示StateListDrawable固有大小保持不变，这时它的固有大小是其内部所有Drawable的固有大小的最大值，默认值为false。
-  variablePadding属性：设置StateListDrawable的padding是否随着其状态的改变而改变，与constantSize属性类似，默认值为false。
</code></pre><p><br>　　范例1：在<code>res/drawable</code>目录下建立<code>state_list.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:state_focused</span>=<span class="string">"false"</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/input_out"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:state_focused</span>=<span class="string">"true"</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/input_over"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  使用&lt;selector&gt;标签创建一个StateListDrawable。
-  本范例的含义为，当View获得焦点时显示input_over，失去焦点时显示input_out。
</code></pre><p><br>　　范例2：老规矩，引用它。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"150dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:hint</span>=<span class="string">"输入 账号"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@drawable/state_list"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  当文本框获得和失去焦点时，系统会自动更新文本框的background属性所使用的图片。
</code></pre><p><br>　　匹配原则：</p>
<pre><code>-  当View的状态被改变时，系统会使用View当前的状态和此文件内所有的&lt;item&gt;匹配。
   -  匹配的顺序：从上到下，从左到右依次匹配每一个&lt;item&gt;标签。
   -  匹配的原则：
      -  若View的当前状态与某个&lt;item&gt;标签匹配成功，则将View的背景色设置为该&lt;item&gt;标签指定的色值，并不会再继续匹配，直接返回。
      -  若匹配失败，则继续匹配下一个&lt;item&gt;标签。
      -  若直到最后都没有一个&lt;item&gt;匹配成功，则将为View设置黑色的背景。
      -  若某个&lt;item&gt;标签没有指定任何具体的状态，则意味着该&lt;item&gt;可以和任何状态匹配，因此应该把没有指定状态的&lt;item&gt;标签放到文件的最后书写。
   -  也就是说，并不是基于用“最佳匹配”的算法来选择的，而仅仅遇到第一个符合最低标准的就会被使用。
</code></pre><p><br>　　属性介绍：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">android:state_pressed          控件是否被按下（一个点击事件由按下、抬起两个事件组成）。</span><br><span class="line"></span><br><span class="line">android:state_focused          控件是否获得焦点。</span><br><span class="line">                               使用滑轮或键盘的方向导航键导航到某一个控件上，此控件就得到了焦点（会被高亮显示，在模拟器容易看到）。</span><br><span class="line"></span><br><span class="line">android:state_selected         控件是否被选中。比如一个tab被打开。</span><br><span class="line"></span><br><span class="line">android:state_checkable        控件是否处于可选状态。</span><br><span class="line">                               这个属性仅仅用于那些可以在“可选”和“不可选”两种状态之间过渡的控件，如RadioButton。</span><br><span class="line"></span><br><span class="line">android:state_checked          控件是否处于选中状态。</span><br><span class="line">                               这个属性仅仅用于那些可以在“可选”和“不可选”两种状态之间过渡的控件，如CheckBox。</span><br><span class="line"></span><br><span class="line">android:state_enabled          控件是否处于可用状态。</span><br><span class="line"></span><br><span class="line">android:state_window_focused   应用程序的窗口是否处于聚焦状态。 </span><br><span class="line">                               通知罩（即通知栏被拉下后的半透时界面）被打开时或者一个对话框（dialog）出现时，后面的窗口就处于失焦状态。</span><br></pre></td></tr></table></figure></p>
<p><br>　　范例3：多个属性。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:state_focused</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:state_enabled</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/input_over"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  在&lt;item&gt;标签中，可以同时设置多个属性。
-  本范例中，当且仅当View被禁用且获得焦点时，才会将该View的背景图片设置为input_over。
</code></pre><p><br>　　范例4：pressed属性。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:state_pressed</span>=<span class="string">"true"</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/input_over"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/input_out"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  当View被用户按下时，View会转变为pressed状态。
-  pressed状态通常用在：Button、EditText、Spinner等可点击的控件之上。
-  注意：TextView和ImageView等控件默认是不会产生pressed状态的，但若将其的clickable属性设置为true，则就会产生pressed状态。 
</code></pre><p><br>　　范例5：checked属性。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:state_checked</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/input_over"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  此属性是专为RadioButton、CheckBox、ToggleButton等控件设定的。当按钮被用户选中时，按钮会转变为checked状态。
-  RadioButton和CheckBox可以同时触发pressed和checked两种状态，先pressed后checked。
-  提示：普通的Button按钮不会触发checked状态。
</code></pre><p><br>　　范例6：引用color值。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:state_checked</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@color/green"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  正如你看到的那样，我们也可以是用一个色值。
</code></pre><h2 id="LevelListDrawable"><a href="#LevelListDrawable" class="headerlink" title="LevelListDrawable"></a>LevelListDrawable</h2><p>　　<code>LevelListDrawable</code>也类似于单选按钮，它可以根据Drawable的当前等级，来决定要显示哪一张图片。</p>
<p><br>　　范例1：在<code>res/drawable</code>目录下建立<code>levle.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">level-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/b"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:minLevel</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"10"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/c"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:minLevel</span>=<span class="string">"11"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"20"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">level-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  使用&lt;level-list&gt;标签描述一个等级列表，每一个&lt;item&gt;标签代表一张图片，&lt;item&gt;标签的drawable属性为必选。
-  &lt;level-list&gt;标签对应于LevelListDrawable类。
-  在本范例中，当&lt;level-list&gt;的当前等级x与某个&lt;item&gt;标签的minLevel和maxLevel属性满足关系：minLevel &lt;=x&lt;= maxLevel 时，该&lt;item&gt;标签所对应的图片将被显示。
-  若某个&lt;item&gt;标签没有指定minLevel和maxLevel属性，则它们的默认取值都为0 。
-  若有两个或以上的&lt;item&gt;标签同时匹配，则系统会选择最先扫描到的，选择之后就不再继续向下匹配。
</code></pre><p><br>　　范例2：更改等级。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AndroidTestActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ImageView img; <span class="comment">// 图片。</span></span><br><span class="line">    <span class="keyword">private</span> EditText text; <span class="comment">// 文本框,用来让用户输入等级。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">this</span>.img = (ImageView) <span class="keyword">this</span>.findViewById(R.id.img);</span><br><span class="line">        <span class="keyword">this</span>.text = (EditText) <span class="keyword">this</span>.findViewById(R.id.text);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> level = Integer.valueOf(<span class="keyword">this</span>.text.getText().toString());</span><br><span class="line">        Drawable drawable = <span class="keyword">this</span>.img.getDrawable();</span><br><span class="line">        <span class="comment">// 根据用户输入的等级,设置Drawable的等级。</span></span><br><span class="line">        drawable.setLevel(level);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  若想在程序中动态的为LevelListDrawable添加等级，则可以使用LevelListDrawable类的addLevel方法。
</code></pre><h2 id="TransitionDrawable"><a href="#TransitionDrawable" class="headerlink" title="TransitionDrawable"></a>TransitionDrawable</h2><p>　　<code>TransitionDrawable</code>用于实现两个Drawable之间的淡出淡入的效果。</p>
<p><br>　　范例1：<code>transition.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/b"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  使用&lt;transition&gt;标签描述一个TransitionDrawable，每一个&lt;item&gt;标签代表一张图片。
-  系统会默认显示第一张图片，若指定的&lt;item&gt;的个数大于2，则只有前两个&lt;item&gt;有效。
-  系统从第一张图片过渡向第二张图片后，第二张图片会覆盖到第一张图片的上面，但是第一张图片并不会消失，因此实际应用中，通常第二张图片的尺寸会大于等于第一张图片的尺寸，以达到完全覆盖的目的。
</code></pre><p><br>　　范例2：过渡图片。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AndroidTestActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ImageView img; <span class="comment">// 图片。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">this</span>.img = (ImageView) <span class="keyword">this</span>.findViewById(R.id.img);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        TransitionDrawable transition=(TransitionDrawable)img.getDrawable();</span><br><span class="line">        <span class="comment">// 从第一层的图片过渡到第二层的图片。在3000毫秒内完成过渡。 </span></span><br><span class="line">        transition.startTransition(<span class="number">3000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="ClipDrawable"><a href="#ClipDrawable" class="headerlink" title="ClipDrawable"></a>ClipDrawable</h2><p>　　<code>ClipDrawable</code>可以根据Drawable的当前等级，来裁剪另一个Drawable，即只显示图片的某一部分内容。</p>
<p><br>　　范例1：<code>clip.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">clip</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/login_input"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipOrientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"left"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  使用&lt;clip&gt;标签描述一个剪切图片资源。 &lt;clip&gt;标签的drawable属性为必选。
-  clipOrientation属性：表示裁剪的方向，取值为：vertical(按照垂直方向裁剪)，horizontal(按照水平方向裁剪)。
-  gravity 图片的起始方向，取值：left(从左向右)，bottom(从下向上)等。
</code></pre><p><br>　　范例2：设置等级。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AndroidTestActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ImageView img; <span class="comment">// 图片。</span></span><br><span class="line">    <span class="keyword">private</span> ClipDrawable clip;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">this</span>.img = (ImageView) <span class="keyword">this</span>.findViewById(R.id.img);</span><br><span class="line">        <span class="keyword">this</span>.clip = (ClipDrawable) <span class="keyword">this</span>.img.getDrawable();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span></span>&#123; <span class="comment">// 最初时,图片的等级为0,此时图片将完全不显示。</span></span><br><span class="line">        clip.setLevel(clip.getLevel()+<span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  使等级的取值范围为：0~10000。0代表完全不显示图片，10000代表完全显示图片。
</code></pre><h2 id="ShapeDrawable"><a href="#ShapeDrawable" class="headerlink" title="ShapeDrawable"></a>ShapeDrawable</h2><p>　　<code>ShapeDrawable</code>可以通过颜色来画出一幅图片，它既可以是纯色的，也可以是渐变色的。</p>
<p><br>　　范例1：shape文件。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shape</span>=<span class="string">"rectangle"</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  本范例绘制了一个矩形，至于矩形的尺寸、颜色等信息并没有指定，因此若直接使用本范例，则是无法在屏幕中看到矩形的。
-  android:shape属性的取值有：
   -  rectangle (矩形)，是默认形状。
   -  ring(环形)
   -  oval (椭圆形)
   -  line (直线)，这个形状要求&lt;stroke&gt;元素来定义线的宽度。
</code></pre><p><br>　　在<code>&lt;shape&gt;</code>内部支持<code>6</code>个子标签，用来设置图形的不同属性，下面将依次介绍。</p>
<p><br>　　范例2：圆角矩形。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shape</span>=<span class="string">"rectangle"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 圆角半径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">corners</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:radius</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:topLeftRadius</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:topRightRadius</span>=<span class="string">"33dp"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 图像的尺寸 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">size</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:height</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"160dp"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 图像的边缘线 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">stroke</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:dashGap</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:dashWidth</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"1dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:color</span>=<span class="string">"#f00"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 图像的填充色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">solid</span> <span class="attr">android:color</span>=<span class="string">"#bfafad"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  各个标签书写的顺序是任意的。
</code></pre><p>　　效果图：</p>
<center><br><img src="/img/android/android_4_10.png" alt=""><br></center>

<p><br>　　范例3：各标签的介绍。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">corners</span>&gt;</span>标签：为形状创建圆角，只有当形状为矩形时才有用。</span><br><span class="line">-  android:radius：尺寸数，所有的角的半径，优先级比较低，会被下面四个属性的值覆盖。</span><br><span class="line">-  android:topLeftRadius尺寸数，左上角的半径。</span><br><span class="line">-  android:topRightRadius尺寸数，右上角的半径。</span><br><span class="line">-  android:bottomLeftRadius尺寸数，左下角的半径。</span><br><span class="line">-  android:bottomRightRadius尺寸数，右下角的半径。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">size</span>&gt;</span>标签：指定shape的大小。</span><br><span class="line">但一般来说它并不是shape最终显示的大小，因为当shape被作为View的背景显示时，还是会被拉伸或缩小。</span><br><span class="line">-  android:height：形状的高。</span><br><span class="line">-  android:width：形状的宽。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">solid</span>&gt;</span>标签：固定颜色填充形状。</span><br><span class="line">-  android:color：颜色，用到形状上的颜色，作为一个十六进制值或颜色资源。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">stroke</span>&gt;</span>标签：指出图形的边缘线的粗细、颜色、间隔等。</span><br><span class="line">-  android:width：线的宽度(粗细)，单位：尺寸值或尺寸资源。</span><br><span class="line">-  android:color：线的颜色，单位：十六进制值或者颜色资源。</span><br><span class="line">-  android:dashGap：虚线与虚线之前的间隔距离，单位：尺寸值或尺寸资源。</span><br><span class="line">-  android:dashWidth：每段虚线的长度，单位：尺寸值或尺寸资源。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">gradient</span>&gt;</span>标签：可以设置图形内部的渐变色。</span><br><span class="line">-  android:angle：渐变的角度，0度为从左到右，90度是从底到上，必须是45度的倍数，默认为0。</span><br><span class="line">-  android:centerX：距离渐变中心的X坐标的相对位置(0 ~ 1.0)。</span><br><span class="line">-  android:centerY：距离渐变中心的Y坐标的相对位置(0 ~ 1.0)。</span><br><span class="line">-  android:gradientRadius：渐变的半径，只有当android:type="radial"才使用</span><br><span class="line">-  android:startColor：开始颜色，作为一个十六进制值或者颜色资源。</span><br><span class="line">-  android:endColor：结束颜色，作为一个十六进制值或颜色资源。</span><br><span class="line">-  android:centerColor：可选择开始到结束之间的颜色，作为一个十六进制值或颜色资源。</span><br><span class="line">-  android:type：渐变模式，有效值如下：</span><br><span class="line">   -  linear：线性渐变，默认选择。</span><br><span class="line">   -  radial：辐射渐变，开始颜色也是结束颜色。</span><br><span class="line">   -  sweep：卷曲线渐变。</span><br></pre></td></tr></table></figure></p>
<p><br>　　范例4：渐变色。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shape</span>=<span class="string">"oval"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">size</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:height</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"160dp"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">stroke</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"1dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:color</span>=<span class="string">"#f00"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:angle</span>=<span class="string">"45"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:endColor</span>=<span class="string">"#80FF00FF"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:startColor</span>=<span class="string">"#FFFF0000"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　效果图：</p>
<center><br><img src="/img/android/android_4_11.png" alt=""><br></center>

<p><br>　　值得注意的是，只有当<code>android:shape=&quot;ring&quot;</code>时<code>&lt;shape&gt;</code>标签的下面的属性才能使用：</p>
<pre><code>-  android:innerRadius：内环半径。
-  android:thickness：环的厚度。
-  android:thicknessRatio：环的厚度比上环的宽度。例如，如果android:thicknessRatio=&quot;2&quot;，厚度等于环的宽度的1/2，此值被android:innerRadius重写，默认为3.
-  android:useLevel：为&quot;true&quot;时，用于LevelListDrawable，正常情况设为&quot;false&quot;。
</code></pre><h2 id="其它Drawable"><a href="#其它Drawable" class="headerlink" title="其它Drawable"></a>其它Drawable</h2><p><br><strong>InsetDrawable</strong><br>　　<code>InsetDrawable</code>用来将一个Drawable嵌入到其内部，并且在内部留一些间距，类似于<code>padding</code>的效果。</p>
<p>　　当View希望自己的<code>android:background</code>比自己的实际区域小的时候可以使用<code>InsetDrawable</code>。</p>
<p><br>　　范例1：案例。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">inset</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/background"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:insetTop</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:insetLeft</span>=<span class="string">"10dp"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><br><strong>Rotate Drawable</strong><br>　　<code>RotateDrawable</code>可以旋转其他Drawable对象，旋转的开始和结束角度可以通过属性控制。</p>
<p><br>　　范例1：使用范例。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rotate</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">android:pivotX</span>=<span class="string">"50%"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">android:pivotY</span>=<span class="string">"50%"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:fromDegrees</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:toDegrees</span>=<span class="string">"360"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">shape</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:shape</span>=<span class="string">"ring"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:innerRadiusRatio</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:thicknessRatio</span>=<span class="string">"15"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:useLevel</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:type</span>=<span class="string">"sweep"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:useLevel</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:startColor</span>=<span class="string">"#FF06436e"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">android:centerColor</span>=<span class="string">"#FF094c7b"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:centerY</span>=<span class="string">"0.50"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:endColor</span>=<span class="string">"#FF127fc4"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rotate</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  通过本范例可以看出来各个Drawable是可以相互嵌套使用的。
</code></pre><h1 id="第二节-ColorStateList"><a href="#第二节-ColorStateList" class="headerlink" title="第二节 ColorStateList"></a>第二节 ColorStateList</h1><p>　　<code>ColorStateList</code>和<code>StateListDrawable</code>类似，它依据View的状态来显示相应的颜色。</p>
<p><br>　　范例1：在<code>res/color</code>文件夹下建立<code>my_color.xml</code>文件。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_pressed</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:color</span>=<span class="string">"#f00"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:state_focused</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:color</span>=<span class="string">"#0f0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">"#00f"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  使用&lt;selector&gt;标签创建一个state-list文件，此标签必须为根节点。
-  View的每一个状态使用一个&lt;item&gt;标签来描述，标签常用的属性为color，表示颜色值，其值可以是资源id或者颜色常量。
-  本范例的含义为，当View获得焦点时，View的背景色将被设置为“0f0” ，被按下时，背景色将被设置为“f00”。
</code></pre><p><br>　　范例2：使用颜色状态列表。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"领奖"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textColor</span>=<span class="string">"@color/my_color"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  当按钮被按下时，按钮上的文字的颜色将变为红色。
</code></pre><h1 id="第三节-Layout"><a href="#第三节-Layout" class="headerlink" title="第三节 Layout"></a>第三节 Layout</h1><p>　　布局(<code>layout</code>)的基本语法再次就不再重复介绍了，只介绍一些常用的标签。</p>
<p><br><strong>&lt;requestFocus&gt;</strong><br>　　将屏幕的初始焦点设成其父元素，任何表示View类对象的元素都能包含这个内容为空的元素。但每个文件内只能出现一次本元素。</p>
<p><br><strong>&lt;include&gt;</strong><br>　　将另一个布局（<code>layout</code>）文件包含到此标签所处的位置上。</p>
<p>　　属性：</p>
<pre><code>-  layout：要引用的布局资源。
-  android:id：覆盖包含进来的layout资源中的根view ID。
-  android:layout_height：
   -  覆盖包含进来的layout资源中根view给出的高度，仅在同时给出android:layout_width时才生效。
-  android:layout_width：
   -  覆盖包含进来的layout资源中根view给出的高度，仅在同时给出android:layout_height时才生效。
</code></pre><p>　　只要是被包含的<code>layout</code>资源根元素支持的属性，都能在<code>&lt;include&gt;</code>元素中包含进来，并且会覆盖本资源内根元素已定义的属性。</p>
<p>　　包含<code>layout</code>资源的另一种方式是使用<code>ViewStub</code>。这是个轻量级的View，它在实际被填充之前不占用<code>layout</code>空间。在实际被填充时，它再把<code>android:layout</code>属性指定的<code>layout</code>资源文件动态包含进来。</p>
<p><br><strong>&lt;merge&gt;</strong><br>　　如果希望<code>layout</code>能被其他<code>layout</code>用<code>&lt;include&gt;</code>包含进去，并不再另外生成<code>ViewGroup</code>容器，本元素特别有用。</p>
<h1 id="第四节-String"><a href="#第四节-String" class="headerlink" title="第四节 String"></a>第四节 String</h1><p>　　应用程序可以使用三种类型的字符串资源：</p>
<pre><code>-  配置XML中的普通字符串。
-  字符串数组。
-  具有格式化参数的字符串。
</code></pre><p><br>　　范例1：<code>res/values/strings.xml</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"hello"</span>&gt;</span>Hello!<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　XML布局文件把字符串应用到一个View中：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"@string/hello"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　应用程序通过以下代码返回一个字符串：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String string = getString(R.string.hello);</span><br></pre></td></tr></table></figure></p>
<p><br>　　范例2：字符串数组。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">"planets_array"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>Mercury<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>Venus<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>Earth<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>Mars<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><br>　　范例3：撇号和引号的转义。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"good_example"</span>&gt;</span>"This'll work"<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"good_example_2"</span>&gt;</span>This\'ll also work<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"bad_example"</span>&gt;</span>This doesn't work<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"bad_example_2"</span>&gt;</span>XML encodings don&amp;apos;t work<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  前两个是正确的范例，后两个是错误的范例。
</code></pre><p><br>　　范例4：字符串的格式化。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"welcome_messages"</span>&gt;</span>Hello, %1$s! You have %2$d new messages.<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  此例中存在两个占位符：%$s是个字符串，%$d是个数字，数字表示参数的序号，从1开始。
</code></pre><p>　　在应用程序中可以用如下方式用参数来格式化字符串：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resources res = getResources();</span><br><span class="line">String text = String.format(res.getString(R.string.welcome_messages), username, mailCount);</span><br></pre></td></tr></table></figure></p>
<p><br>　　范例5：用HTML标记来样式化。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"welcome"</span>&gt;</span>Welcome to <span class="tag">&lt;<span class="name">b</span>&gt;</span>Android<span class="tag">&lt;/<span class="name">b</span>&gt;</span>!<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  支持以下HTML元素：
   -  &lt;b&gt;文本加粗bold。
   -  &lt;i&gt;文本变斜体italic。
   -  &lt;u&gt;文本加下划线underline。
</code></pre><h1 id="第五节-More-Types"><a href="#第五节-More-Types" class="headerlink" title="第五节 More Types"></a>第五节 More Types</h1><p><br>　　范例1：bool类型数据(<code>res/values-small/bools.xml</code>)。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bool</span> <span class="attr">name</span>=<span class="string">"screen_small"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">bool</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bool</span> <span class="attr">name</span>=<span class="string">"adjust_view_bounds"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">bool</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　程序代码获取：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/logo"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:adjustViewBounds</span>=<span class="string">"@bool/adjust_view_bounds"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><br>　　范例2：color类型数据(<code>res/values-small/colors.xml</code>)。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"opaque_red"</span>&gt;</span>#f00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"translucent_red"</span>&gt;</span>#80ff0000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　程序代码获取：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textColor</span>=<span class="string">"@color/translucent_red"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"Hello"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code>语句解释：
-  颜色值通常以 “#” 字符开头，接着Alpha-Red-Green-Blue（透明度-红-绿-蓝）信息。
-  常见的颜色格式有：RGB、ARGB、RRGGBB、AARRGGBB。
</code></pre><p><br>　　范例3：inteter类型数据(<code>res/values-small/integers.xml</code>)。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">integer</span> <span class="attr">name</span>=<span class="string">"max_speed"</span>&gt;</span>75<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">integer</span> <span class="attr">name</span>=<span class="string">"min_speed"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　程序代码获取：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resources res = getResources();</span><br><span class="line"><span class="keyword">int</span> maxSpeed = res.getInteger(R.integer.max_speed);</span><br></pre></td></tr></table></figure></p>
<p><br>　　范例4：inteter数组数据(<code>res/values/integers.xml</code>)。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">integer-array</span> <span class="attr">name</span>=<span class="string">"bits"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>4<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>8<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>16<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>32<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">integer-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　程序代码获取：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resources res = getResources();</span><br><span class="line"><span class="keyword">int</span>[] bits = res.getIntArray(R.array.bits);</span><br></pre></td></tr></table></figure></p>
<p><br>　　范例5：数组数据(<code>res/values/arrays.xml</code>)。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">array</span> <span class="attr">name</span>=<span class="string">"icons"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>@drawable/home<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>@drawable/settings<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>@drawable/logout<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">array</span> <span class="attr">name</span>=<span class="string">"colors"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>#FFFF0000<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>#FF00FF00<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span>&gt;</span>#FF0000FF<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>　　程序代码获取：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Resources res = getResources();</span><br><span class="line">TypedArray icons = res.obtainTypedArray(R.array.icons);</span><br><span class="line">Drawable drawable = icons.getDrawable(<span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line">TypedArray colors = res.obtainTypedArray(R.array.colors);</span><br><span class="line"><span class="keyword">int</span> color = colors.getColor(<span class="number">0</span>,<span class="number">0</span>);</span><br></pre></td></tr></table></figure></p>
<p><br><br></p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div></div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechatpay.jpg" alt="乐信圣文 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/android-D02/" rel="next" title="媒体篇　第二章 图片">
                <i class="fa fa-chevron-left"></i> 媒体篇　第二章 图片
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/android-B03/" rel="prev" title="UI篇　第三章 ActionBar 和 Toolbar">
                UI篇　第三章 ActionBar 和 Toolbar <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="android-B04/"
     data-title="UI篇　第四章 应用程序资源"
     data-content=""
     data-url="http://yoursite.com/android-B04/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="android-B04/"
           data-title="UI篇　第四章 应用程序资源" data-url="http://yoursite.com/android-B04/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="乐信圣文" />
          <p class="site-author-name" itemprop="name">乐信圣文</p>
          <p class="site-description motion-element" itemprop="description">集大家之成，悟小家之道。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">51</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="http://www.gov.cn/" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://weishu.me/" title="weishu" target="_blank">weishu</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://ryanhoo.github.io/" title="ryanhoo" target="_blank">ryanhoo</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#第一节-Drawable"><span class="nav-number">1.</span> <span class="nav-text">第一节 Drawable</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#BitmapDrawable"><span class="nav-number">1.1.</span> <span class="nav-text">BitmapDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NinePatchDrawable"><span class="nav-number">1.2.</span> <span class="nav-text">NinePatchDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LayerDrawable"><span class="nav-number">1.3.</span> <span class="nav-text">LayerDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#StateListDrawable"><span class="nav-number">1.4.</span> <span class="nav-text">StateListDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LevelListDrawable"><span class="nav-number">1.5.</span> <span class="nav-text">LevelListDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TransitionDrawable"><span class="nav-number">1.6.</span> <span class="nav-text">TransitionDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ClipDrawable"><span class="nav-number">1.7.</span> <span class="nav-text">ClipDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ShapeDrawable"><span class="nav-number">1.8.</span> <span class="nav-text">ShapeDrawable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其它Drawable"><span class="nav-number">1.9.</span> <span class="nav-text">其它Drawable</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第二节-ColorStateList"><span class="nav-number">2.</span> <span class="nav-text">第二节 ColorStateList</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第三节-Layout"><span class="nav-number">3.</span> <span class="nav-text">第三节 Layout</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第四节-String"><span class="nav-number">4.</span> <span class="nav-text">第四节 String</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第五节-More-Types"><span class="nav-number">5.</span> <span class="nav-text">第五节 More Types</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">乐信圣文</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"cutler"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("sGcgYofeKOFi2l1XvGrm0PcP-gzGzoHsz", "Sx0mWxj4pkXYm17zT0UnV5Ca");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
